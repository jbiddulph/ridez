import{u as o}from"./TCo5-zK6.js";import{m as d,a6 as i,r as n}from"./7GWaBXbZ.js";const a=n(!1);function m(){const t=o(),s=d();return i(()=>{typeof window<"u"&&(a.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}),{isDarkMode:a,fetchDarkMode:async()=>{if(!s.value)return;const{data:e,error:r}=await t.from("ridez_settings").select("dark_mode").eq("user_id",s.value.id).single();!r&&e&&(a.value=!!e.dark_mode)},setDarkMode:async e=>{a.value=e,s.value&&await t.from("ridez_settings").upsert({user_id:s.value.id,dark_mode:e},{onConflict:"user_id"})}}}export{m as u};
